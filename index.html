<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- Primary Meta Tags -->
    <title>ascii.im</title>
    <meta name="title" content="ascii.im">
    <meta name="description" content="Warmth, encoded. A digital monument by unearth.im, celebrating the primitive grid that underpins our connection.">
    <meta name="keywords" content="ascii, fire, text art, generative art, unearth.im, digital monument">
    <meta name="author" content="ascii.im (An unearth.im Project)">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">

    <!-- Canonical Link -->
    <link rel="canonical" href="https://ascii.im/" />

    <!-- Webmention Endpoint -->
    <link rel="webmention" href="https://webmention.io/unearth.im/webmention" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "VisualArtwork", 
          "@id": "https://ascii.im/#artwork",
          "url": "https://ascii.im",
          "name": "ascii.im",
          "headline": "Warmth, encoded. A digital monument by unearth.im.",
          "description": "A digital hearth for the hand-built web. It honors the primitive grid that underpins our connection. The fire you see is not a video loop. It is a live cellular automaton, calculating heat and decay frame by frame, character by character.",
          "image": "https://ascii.im/og-image.png",
          "artMedium": "Generative JavaScript (React/Babel)",
          "artForm": "Digital Monument",
          "genre": "Interactive Art",
          "copyrightYear": "2025",
          "inLanguage": "en-US",
          "author": [
            { "@id": "https://josiest.com/#person" },
            { "@id": "https://felixvelas.co/#person" }
          ],
          "creator": [
            { "@id": "https://josiest.com/#person" },
            { "@id": "https://felixvelas.co/#person" }
          ],
          "publisher": { "@id": "https://unearth.im/#organization" },
          "isPartOf": { "@id": "https://unearth.im/#collection" },
          "mainEntityOfPage": { "@id": "https://ascii.im/#website" }
        },
        {
          "@type": "WebSite",
          "@id": "https://ascii.im/#website",
          "url": "https://ascii.im",
          "name": "ascii.im",
          "publisher": { "@id": "https://unearth.im/#organization" }
        },
        {
          "@type": "Organization",
          "@id": "https://unearth.im/#organization",
          "name": "unearth.im",
          "url": "https://unearth.im",
          "logo": {
            "@type": "ImageObject",
            "url": "https://unearth.im/favicon-32x32.png"
          }
        },
    {
      "@type": "Person",
      "@id": "https://josiest.com/#person",
      "name": "Josie Jefferson",
      "url": "https://josiest.com",
      "jobTitle": "Digital Archaeologist & Trust Architect",
      "affiliation": { "@id": "https://unearth.im/#organization" }
    },
    {
      "@type": "Person",
      "@id": "https://felixvelas.co/#person",
      "name": "Felix Velasco",
      "url": "https://felixvelas.co",
      "jobTitle": "Trust Architect & Digital Archaeologist",
      "affiliation": { "@id": "https://unearth.im/#organization" }
    }
      ]
    }
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ascii.im/">
    <meta property="og:title" content="ascii.im">
    <meta property="og:description" content="Warmth, encoded. A digital monument by unearth.im.">
    <meta property="og:image" content="https://ascii.im/og-image.png">
    <meta property="og:site_name" content="ascii.im">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ascii.im/">
    <meta property="twitter:title" content="ascii.im">
    <meta property="twitter:description" content="Warmth, encoded. A digital monument by unearth.im.">
    <meta property="twitter:image" content="https://ascii.im/og-image.png">

    <!-- Favicons -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="alternate icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <!-- Brand Color Meta Tags -->
    <meta name="theme-color" content="#000000">
    <meta name="msapplication-TileColor" content="#ffb000">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Font: VT323 for that perfect CRT feel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000000;
            font-family: 'VT323', monospace;
            color: #ffb000; /* Amber */
        }
        /* Scanline effect */
        .crt::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }
        .glow {
            text-shadow: 0 0 5px #ff8800, 0 0 10px #ff4400;
        }
        /* Breathing animation for CTA */
        @keyframes breathe {
            0%, 100% { opacity: 1; text-shadow: 0 0 5px #ff8800, 0 0 10px #ff4400; }
            50% { opacity: 0.7; text-shadow: 0 0 2px #cc6600, 0 0 5px #cc3300; }
        }
        .animate-breathe {
            animation: breathe 4s ease-in-out infinite;
        }
        pre {
            line-height: 1; /* Tighter line height for ASCII density */
            white-space: pre;
        }
        /* Custom scrollbar hide */
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useEffect, useRef, useState } = React;

        // --- ASCII ART ASSETS ---
        const MANTLE_ART = {
            DEFAULT: [
                "      .---.                    ",
                "     /     \\   [__] [__] [__]  ",
                "    |  ( )  |  |  | |  | |  |  ",
                "    `-------'  `--' `--' `--'  "
            ],
            HALLOWEEN: [
                "      /\\___/\\                  ",
                "     (  o o  )    ,---.        ",
                "     /   * \\   ( { } )       ",
                "     \\__\\_/__/    `---'        "
            ],
            THANKSGIVING: [
                "      .---.      _             ",
                "     //   \\\\   _/ \\_   ,^.     ",
                "    ((     )) (_____) (___)    ",
                "     ``---''   `---'   `-'     "
            ],
            WINTER: [
                "       /|\\                     ",
                "      //|\\\\      _||_          ",
                "     ///|\\\\\\    [____]         ",
                "    ////|\\\\\\\\    |  |          "
            ],
            NEWYEAR: [
                "      .---.    2  0  2  6      ",
                "     /  ^  \\   \\_/  \\_/        ",
                "    |  ( )  |   Y    Y   ,^.   ",
                "    `-------'  _|_  _|_ (___)  "
            ],
            VALENTINE: [
                "       _   _                   ",
                "      ( \\ / )    ,^.           ",
                "       \\ v /    (___)          ",
                "        \\ /      `|'           "
            ],
            STPATRICK: [
                "      .---.    ( & )   ( 8 )   ",
                "     /     \\     |       |     ",
                "    |  ( )  |   ~|~     ~|~    ",
                "    `-------'    |       |     "
            ],
            GLITCH: [
                "    ,-------.  ,--. ,--. ,--.  ",
                "    |  ) (  |  |  | |  | |  |  ",
                "     \\     /   [__] [__] [__]  ",
                "      `---'                    "
            ]
        };

        // --- ASCII FIRE COMPONENT ---
        const AsciiFire = () => {
            const [fireString, setFireString] = useState("");
            
            // Grid dimensions (Characters)
            const WIDTH = 60;
            const HEIGHT = 25;
            
            // The ASCII Ramp (Dark to Light)
            const CHARS = " .,:;i1tfLCG08@"; 

            const firePixels = useRef(new Array(WIDTH * HEIGHT).fill(0));

            useEffect(() => {
                let frameId;

                const calculateFire = () => {
                    const pixels = firePixels.current;

                    // 1. Seed the bottom row with intense heat
                    for (let x = 0; x < WIDTH; x++) {
                        pixels[(HEIGHT - 1) * WIDTH + x] = 36; // Max heat value
                    }

                    // 2. Propagate fire upwards
                    for (let y = 0; y < HEIGHT - 1; y++) {
                        for (let x = 0; x < WIDTH; x++) {
                            // Get heat from the pixel below
                            const srcIndex = (y + 1) * WIDTH + x;
                            const decay = Math.floor(Math.random() * 2); // Random cooling
                            const wind = Math.floor(Math.random() * 3) - 1; // -1, 0, 1 horizontal shift
                            
                            const dstIndex = y * WIDTH + x + wind; // Apply wind
                            
                            // Prevent wrapping around edges
                            if (dstIndex >= y * WIDTH && dstIndex < (y + 1) * WIDTH) {
                                let newHeat = pixels[srcIndex] - decay;
                                if (newHeat < 0) newHeat = 0;
                                pixels[dstIndex] = newHeat;
                            }
                        }
                    }

                    // 3. Convert to String
                    let output = "";
                    for (let y = 0; y < HEIGHT; y++) {
                        for (let x = 0; x < WIDTH; x++) {
                            const heat = pixels[y * WIDTH + x];
                            // Map heat (0-36) to Char index
                            const charIndex = Math.floor((heat / 36) * (CHARS.length - 1));
                            output += CHARS[charIndex];
                        }
                        output += "\n";
                    }
                    setFireString(output);

                    // Slow down the frame rate slightly for that "terminal" feel
                    setTimeout(() => {
                        frameId = requestAnimationFrame(calculateFire);
                    }, 50); 
                };

                calculateFire();

                return () => cancelAnimationFrame(frameId);
            }, []);

            return (
                <div className="relative mx-auto overflow-hidden" style={{ width: '60ch' }}>
                    <pre className="text-center text-amber-500 glow select-none text-xl leading-none">
                        {fireString}
                    </pre>
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [showStatement, setShowStatement] = useState(false);
            const [audioEnabled, setAudioEnabled] = useState(false);
            const [volume, setVolume] = useState(0.5);
            const audioRef = useRef(null);
            
            // State initialized with Date logic, but mutable for preview
            const [season, setSeason] = useState(() => {
                const today = new Date();
                const month = today.getMonth(); // 0-11
                const day = today.getDate();

                if (month === 9) return 'HALLOWEEN'; 
                if (month === 10) return 'THANKSGIVING';
                if ((month === 11 && day === 31) || (month === 0 && day === 1)) return 'NEWYEAR';
                if (month === 11) return 'WINTER'; 
                if (month === 1 && day > 7 && day < 20) return 'VALENTINE'; 
                if (month === 2 && day === 17) return 'STPATRICK'; // March 17
                if (month === 3 && day === 1) return 'GLITCH'; // April 1

                return 'DEFAULT';
            });

            const mantleDecor = MANTLE_ART[season] || MANTLE_ART.DEFAULT;

            // Handle audio toggle
            useEffect(() => {
                if (audioRef.current) {
                    audioRef.current.volume = volume;
                    if (audioEnabled) {
                        const playPromise = audioRef.current.play();
                        if (playPromise !== undefined) {
                            playPromise.catch(err => {
                                console.log('Audio play failed:', err);
                                setAudioEnabled(false); // Reset if failed
                            });
                        }
                    } else {
                        audioRef.current.pause();
                        audioRef.current.currentTime = 0; // Reset to start
                    }
                }
            }, [audioEnabled, volume]);

            return (
                <div className="relative w-full h-screen flex flex-col items-center justify-center bg-black crt p-4">
                    
                    {/* ASCII HEADER / CTA */}
                    <div 
                        onClick={() => setShowStatement(true)}
                        className="mb-8 text-amber-500 text-xs md:text-sm select-none animate-breathe cursor-pointer hover:text-amber-400 transition-colors duration-300 glow"
                        title="Read Artist Statement"
                    >
<pre>{`
    .   .                 
   / \\ / \\                
  ( M | E )  A S C I I . I M
   \\ / \\ /                
    '   '                 
`}</pre>
                    </div>

                    {/* THE HEARTH STRUCTURE */}
                    <div className="relative flex flex-col items-center max-w-full">
                        
                        {/* MANTLE DECOR (Generated) */}
                        <div className="w-full flex justify-between px-4 mb-1 text-amber-600 select-none transition-opacity duration-500">
                             <pre>{mantleDecor.join('\n')}</pre>
                             {/* Mirror the decor for symmetry (except for Glitch/NewYear if asymmetric text) */}
                             {/* Since our art is mostly symmetric or text-based, simple mirroring is risky for text.
                                 Let's keep the simple mirror for now as the text "2026" is only on one side in the logic above. 
                                 Actually, for NEWYEAR, the array has '2026' on the right. 
                                 Mirroring it on the right column would flip the numbers. 
                                 Let's just duplicate the decor without flipping scale-x for safety on text seasons.
                             */}
                             <pre className={`${['NEWYEAR', 'GLITCH'].includes(season) ? '' : 'transform -scale-x-100'}`}>
                                {mantleDecor.join('\n')}
                             </pre>
                        </div>

                        {/* MANTLE SHELF */}
                        <div className="w-[64ch] border-b-4 border-amber-900/80 mb-0"></div>

                        {/* FIREPLACE SURROUND */}
                        <div className="flex relative">
                             {/* Left Pillar */}
                             <div className="w-[2ch] bg-amber-900/20 border-r border-amber-900/50 hidden md:block"></div>
                             
                             {/* The Fire Container */}
                             <div className="bg-black border-x-4 border-t-4 border-amber-900/30 px-2 pt-4 pb-0 min-h-[300px]">
                                <AsciiFire />
                                {/* Log ASCII Overlay */}
                                <div className="absolute bottom-2 left-0 right-0 text-center text-amber-800 pointer-events-none select-none">
<pre>{`
  _______(_______)_______
 /  __________  /  ___   \\
(  (__________)  (____)   )
 \\_______________________/ 
`}</pre>
                                </div>
                             </div>

                             {/* Right Pillar */}
                             <div className="w-[2ch] bg-amber-900/20 border-l border-amber-900/50 hidden md:block"></div>
                        </div>
                        
                        {/* HEARTH STONE */}
                        <div className="w-[70ch] h-4 bg-amber-900/40 mt-0 border-t border-amber-500/20"></div>

                    </div>

                    {/* AUDIO ELEMENT */}
                    <audio 
                        ref={audioRef}
                        loop
                        preload="auto"
                        playsInline
                    >
                        <source src="/fireplace-crackle.mp3" type="audio/mpeg" />
                        <source src="./fireplace-crackle.mp3" type="audio/mpeg" />
                    </audio>

                    {/* AUDIO TOGGLE BUTTON & VOLUME CONTROL */}
                    <div className="fixed top-4 right-4 z-10 flex flex-col gap-2 items-end">
                        <button
                            onClick={() => setAudioEnabled(!audioEnabled)}
                            className="px-3 py-2 border border-amber-900/50 bg-black/80 text-amber-500 hover:text-amber-400 hover:border-amber-500/50 transition-all font-mono text-xs uppercase tracking-wider"
                            title={audioEnabled ? "Mute fireplace" : "Play fireplace sounds"}
                        >
                            {audioEnabled ? 'ðŸ”Š ON' : 'ðŸ”‡ OFF'}
                        </button>
                        
                        {audioEnabled && (
                            <div className="flex items-center gap-2 px-3 py-2 border border-amber-900/50 bg-black/80">
                                <span className="text-amber-700 text-xs font-mono">VOL</span>
                                <input
                                    type="range"
                                    min="0"
                                    max="1"
                                    step="0.01"
                                    value={volume}
                                    onChange={(e) => setVolume(parseFloat(e.target.value))}
                                    className="w-20 h-1 bg-amber-900/30 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-amber-500 [&::-webkit-slider-thumb]:cursor-pointer"
                                    title="Adjust volume"
                                />
                                <span className="text-amber-700 text-xs font-mono min-w-[2ch]">
                                    {Math.round(volume * 100)}
                                </span>
                            </div>
                        )}
                    </div>

                    {/* BRANDING FOOTER */}
                    <div className="fixed bottom-4 left-4 text-left z-10">
                        <p className="text-amber-900 text-xs font-mono tracking-widest uppercase">
                            &lt; SYSTEM: ONLINE &gt;
                        </p>
                        <p className="text-amber-800/60 text-[10px] mt-1 font-mono lowercase">
                            a digital monument by <a href="https://unearth.im" className="text-amber-700 hover:text-amber-500 hover:underline decoration-amber-500/30">unearth.im</a>
                        </p>
                    </div>

                    {/* DEBUG CONTROLS (Commented out for production) */}
                    {/* <div className="fixed bottom-4 right-4 z-50 flex gap-2 flex-wrap justify-end max-w-[50%]">
                        {['DEFAULT', 'HALLOWEEN', 'THANKSGIVING', 'WINTER', 'NEWYEAR', 'VALENTINE', 'STPATRICK', 'GLITCH'].map(s => (
                            <button 
                                key={s}
                                onClick={() => setSeason(s)}
                                className={`px-2 py-1 text-[10px] border font-mono uppercase tracking-wider transition-all ${
                                    season === s 
                                    ? 'bg-amber-900/40 border-amber-500 text-amber-500' 
                                    : 'border-amber-900/20 text-amber-900 hover:text-amber-700'
                                }`}
                            >
                                {s.substring(0, 3)}
                            </button>
                        ))}
                    </div>
                    */}

                    {/* ARTIST STATEMENT MODAL */}
                    {showStatement && (
                        <div 
                            className="fixed inset-0 z-[100] flex items-center justify-center bg-black/90 p-4"
                            onClick={() => setShowStatement(false)}
                        >
                            <div 
                                className="bg-black border border-amber-500/50 p-8 max-w-lg w-full shadow-[0_0_20px_rgba(255,176,0,0.2)] text-amber-500 relative"
                                onClick={e => e.stopPropagation()}
                            >
                                <button 
                                    onClick={() => setShowStatement(false)}
                                    className="absolute top-2 right-4 text-amber-700 hover:text-amber-500 font-bold"
                                >
                                    [X]
                                </button>
                                
                                <h2 className="text-2xl font-bold mb-6 glow text-center uppercase tracking-widest">
                                    The Raw Code of Warmth
                                </h2>
                                
                                <div className="space-y-4 text-lg leading-relaxed text-amber-500/90 font-mono">
                                    <p>
                                        Before high-definition, before the cloud, before the metaverseâ€”there was just text.
                                    </p>
                                    <p>
                                        <strong>ascii.im</strong> is a digital hearth for the hand-built web. It honors the primitive grid that underpins our connection.
                                    </p>
                                    <p>
                                        The fire you see is not a video loop. It is a live cellular automaton, calculating heat and decay frame by frame, character by character. 
                                    </p>
                                    <p className="text-center pt-4 italic text-amber-600">
                                        Warmth, encoded.
                                    </p>
                                </div>

                                <div className="mt-8 pt-4 border-t border-amber-900/30 text-center text-sm text-amber-800 uppercase tracking-widest">
                                    A Digital Monument by unearth.im
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>